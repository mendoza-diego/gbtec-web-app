"use strict";(self.webpackChunkdiscover_image=self.webpackChunkdiscover_image||[]).push([[929],{7929:(j,r,s)=>{s.r(r),s.d(r,{PhotosModule:()=>Q});var c=s(9808),h=s(4100),a=s(7783),t=s(5e3),u=s(8966),g=s(2232),f=s(4879),_=s(7423),p=s(1451),v=s(5245);function x(o,e){if(1&o&&(t.TgZ(0,"div",21)(1,"div",3),t._uU(2),t.qZA()()),2&o){const i=t.oxw(2);t.xp6(2),t.hij(" ",i.photo.description," ")}}function Z(o,e){if(1&o&&(t.TgZ(0,"li",22)(1,"mat-icon",8),t._uU(2,"photo_camera"),t.qZA(),t._uU(3),t.qZA()),2&o){const i=t.oxw(2);t.xp6(3),t.hij(" ",i.photo.exif.name,"")}}function P(o,e){if(1&o&&(t.TgZ(0,"li",22)(1,"mat-icon",8),t._uU(2,"location_on"),t.qZA(),t._uU(3),t.qZA()),2&o){const i=t.oxw(2);t.xp6(3),t.hij(" ",i.photo.location.title,"")}}function T(o,e){if(1&o&&(t.TgZ(0,"li",22)(1,"mat-icon",8),t._uU(2,"calendar_month"),t.qZA(),t._uU(3),t.ALo(4,"date"),t.qZA()),2&o){const i=t.oxw(2);t.xp6(3),t.hij(" Published on ",t.xi3(4,1,i.photo.created_at,"longDate"),"")}}const d=function(){return["/r/photos"]},m=function(o){return{q:o}};function C(o,e){if(1&o&&(t.TgZ(0,"button",25),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.MGl("title","Search for ",i.title,""),t.Q6J("routerLink",t.DdM(4,d))("queryParams",t.VKq(5,m,i.title)),t.xp6(1),t.Oqu(i.title)}}function w(o,e){if(1&o&&(t.TgZ(0,"div",23)(1,"h1"),t._uU(2,"Topics"),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,C,2,7,"button",24),t.qZA()()),2&o){const i=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",i.photo.topics)}}function b(o,e){if(1&o&&(t.TgZ(0,"button",25),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.MGl("title","Search for ",i.title,""),t.Q6J("routerLink",t.DdM(4,d))("queryParams",t.VKq(5,m,i.title)),t.xp6(1),t.Oqu(i.title)}}function A(o,e){if(1&o&&(t.TgZ(0,"div",23)(1,"h1"),t._uU(2,"Related Collections"),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,b,2,7,"button",24),t.qZA()()),2&o){const i=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",i.photo.related_collections.results)}}function M(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),t._UZ(4,"img",4),t.TgZ(5,"span"),t._uU(6),t.qZA()()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return l.photoService.downloadPhoto(l.photo.id,l.photo.urls.full)}),t._uU(9,"Download"),t.qZA(),t.TgZ(10,"button",7)(11,"mat-icon",8),t._uU(12,"expand_more"),t.qZA()(),t.TgZ(13,"mat-menu",9,10)(15,"button",11),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return l.photoService.downloadPhoto(l.photo.id,l.photo.urls.small)}),t._uU(16,"Small "),t.TgZ(17,"small",12),t._uU(18),t.qZA()(),t.TgZ(19,"button",11),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return l.photoService.downloadPhoto(l.photo.id,l.photo.urls.regular)}),t._uU(20,"Medium "),t.TgZ(21,"small",12),t._uU(22),t.qZA()(),t.TgZ(23,"button",11),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return l.photoService.downloadPhoto(l.photo.id,l.photo.urls.raw)}),t._uU(24,"Original Size "),t.TgZ(25,"small",12),t._uU(26),t.qZA()()()()(),t.YNc(27,x,3,1,"div",13),t._UZ(28,"app-blurhash",14),t.TgZ(29,"div",15)(30,"div",3)(31,"h3")(32,"span",16),t._uU(33),t.ALo(34,"number"),t.qZA(),t.TgZ(35,"span",16),t._uU(36),t.ALo(37,"number"),t.qZA()()()(),t.TgZ(38,"div",17)(39,"div",3)(40,"ul",18),t.YNc(41,Z,4,1,"li",19),t.YNc(42,P,4,1,"li",19),t.YNc(43,T,5,4,"li",19),t.qZA()()(),t.YNc(44,w,5,1,"div",20),t.YNc(45,A,5,1,"div",20),t.qZA()}if(2&o){const i=t.MAs(14),n=t.oxw();t.xp6(4),t.Q6J("src",n.photo.user.profile_image.small,t.LSH),t.xp6(2),t.Oqu(n.photo.user.name),t.xp6(4),t.Q6J("matMenuTriggerFor",i),t.xp6(8),t.hij("(",n.photoService.getDimensions("s",n.photo.width,n.photo.height),")"),t.xp6(4),t.hij("(",n.photoService.getDimensions("r",n.photo.width,n.photo.height),")"),t.xp6(4),t.AsE("(",n.photo.width," X ",n.photo.height,")"),t.xp6(1),t.Q6J("ngIf",n.photo.description),t.xp6(1),t.Jzz("--aspect-ratio: ",n.photo.width/n.photo.height,""),t.Q6J("hash",n.photo.blur_hash)("URL",n.photo.urls.full)("width",n.photoService.getWidth("r"))("height",n.photoService.calHeight("r",n.photo.width,n.photo.height)),t.xp6(5),t.hij("",t.lcZ(34,22,n.photo.views)," views"),t.xp6(3),t.hij("",t.lcZ(37,24,n.photo.downloads)," downloads"),t.xp6(5),t.Q6J("ngIf",n.photo.exif&&n.photo.exif.name),t.xp6(1),t.Q6J("ngIf",n.photo.location&&n.photo.location.title),t.xp6(1),t.Q6J("ngIf",n.photo.created_at),t.xp6(1),t.Q6J("ngIf",n.photo.topics&&n.photo.topics.length>0),t.xp6(1),t.Q6J("ngIf",n.photo.related_collections)}}let U=(()=>{class o{constructor(i,n,l,S,Y,I){this.dialog=i,this.dialogRef=n,this.service=l,this.photoService=S,this.activatedRoute=Y,this.renderer=I,this.isDialog=!1}ngOnInit(){this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.onGet()}onGet(){this.photo$=this.service.get(this.id),this.photo$.subscribe(i=>{this.photo=i})}ngAfterViewInit(){}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(u.uw),t.Y36(u.so,8),t.Y36(g.o),t.Y36(f.T),t.Y36(h.gz),t.Y36(t.Qsj))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-photo-details"]],viewQuery:function(i,n){if(1&i&&t.Gf(a.v,5),2&i){let l;t.iGM(l=t.CRH())&&(n.blurHashEl=l.first)}},decls:1,vars:1,consts:[["class","container-fluid px-5 mt-5",4,"ngIf"],[1,"container-fluid","px-5","mt-5"],[1,"row","justify-content-between","mb-4"],[1,"col"],[1,"rounded-circle","user-profile-img",3,"src"],[1,"col","text-end"],["mat-flat-button","","color","primary",3,"click"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],[1,"align-middle"],["xPosition","before"],["downloadMenu","matMenu"],["mat-menu-item","",1,"text-end",3,"click"],[1,"text-secondary"],["class","row mb-4",4,"ngIf"],[1,"photo","mx-auto","mb-5",3,"hash","URL","width","height"],[1,"row"],[1,"badge","rounded-pill","text-bg-primary","d-inline-block","m-1"],[1,"row","mt-2","mb-5"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngIf"],["class","row mb-5",4,"ngIf"],[1,"row","mb-4"],[1,"list-group-item"],[1,"row","mb-5"],["mat-stroked-button","","class","m-2",3,"routerLink","queryParams","title",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"m-2",3,"routerLink","queryParams","title"]],template:function(i,n){1&i&&t.YNc(0,M,46,26,"div",0),2&i&&t.Q6J("ngIf",n.photo)},directives:[c.O5,_.lW,p.p6,v.Hw,p.VK,p.OP,a.v,c.sg,h.rH],pipes:[c.JJ,c.uU],styles:["[_nghost-%COMP%]{justify-content:center;display:flex}.container[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:40px}h2[_ngcontent-%COMP%]   .user-profile-img[_ngcontent-%COMP%]{padding-right:15px}.photo[_ngcontent-%COMP%]{min-width:min(100%,387px);max-width:calc((calc(100vh - 250px)) * var(--aspect-ratio));display:block}"]}),o})();var D=s(3482);const y=[{path:"",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-photos"]],decls:2,vars:0,template:function(i,n){1&i&&t._UZ(0,"app-header")(1,"router-outlet")},directives:[D.G,h.lC],styles:[""]}),o})(),children:[{path:":id",component:U}]}];let J=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.Bz.forChild(y)],h.Bz]}),o})();var q=s(2221),O=s(677);let Q=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,J,O.O,q.K]]}),o})()}}]);