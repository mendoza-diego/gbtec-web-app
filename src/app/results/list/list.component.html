<div class="container mt-5">
  <div class="container" infiniteScroll [infiniteScrollDistance]="3" (scrolled)="onScroll()">
    <div class="image-gallery">
      <div class="column" *ngFor="let group of photosByColumn">
        <div class="image-item" *ngFor="let photo of group">
          <app-photo [photo]="photo"></app-photo>
        </div>
      </div>
    </div>

    <div class="footer mt-5 text-center">
      <h3 *ngIf="noResults" class="text-center">Sorry, no results were found for your search<strong *ngIf="q"> "{{q}}"</strong>.</h3>
      <button mat-button *ngIf="!noResults && !loading && (currPage < lastPage || currPage == 0)" color="primary" (click)="onSearch(true)">
        <mat-icon>expand_circle_down</mat-icon> Load more
      </button>

      <mat-progress-spinner class="m-auto mt-5" *ngIf="loading" diameter="40" color="primary" mode="indeterminate">
      </mat-progress-spinner>
    </div>
  </div>
</div>